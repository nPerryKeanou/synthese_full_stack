Nous allons ici utiliser le terminal pour utiliser postgresql car mon ordinateur est trop vieux pour utiliser pgAdmin.
Ceci va nous permettre de mieux comprendre le systÃ¨me.

1) VÃ©rifie que PostgreSQL est installÃ©
psql --version

Tu dois voir quelque chose comme psql (PostgreSQL) 16.x.
Si tu obtiens une erreur, installe PostgreSQL avec Homebrew :

brew install postgresql
brew services start postgresql (Ne jamais oublier d'Ã©teindre postgresql Ã  la fin de chaque utilisation)

2) AccÃ¨de Ã  la console PostgreSQL
psql postgres

3) CrÃ©e une base de donnÃ©es
CREATE DATABASE horsesinshape;

Tu peux vÃ©rifier qu'elle a bien Ã©tÃ© crÃ©Ã©e :
sql :
    \l


-----------------------------------------------------------------------------------------
je ne devrais pas d'abord crÃ©er une bases de donnÃ©es et ensuite une table et ensuite un user ?
-----------------------------------------------------------------------------------------

Voici la rÃ©ponse claire :
Lâ€™ordre recommandÃ© est bien celui que tu proposes, sauf dans certains cas pratiques.

Ordre logique idÃ©al (comme en thÃ©orie ou en entreprise) :
CrÃ©er la base de donnÃ©es
CrÃ©er les rÃ´les/utilisateurs PostgreSQL
Donner les permissions Ã  lâ€™utilisateur sur la base
CrÃ©er les tables et structures via ton application (ex: NestJS + TypeORM)

Alors pourquoi jâ€™ai proposÃ© lâ€™inverse (utilisateur d'abord) ?
Dans un workflow projet local moderne avec NestJS, on fait souvent :
CrÃ©er lâ€™utilisateur dâ€™abord (parce que NestJS en a besoin pour accÃ©der Ã  la BDD)
Puis on crÃ©e la base de donnÃ©es en lui assignant directement lâ€™utilisateur
Ensuite NestJS (via TypeORM) crÃ©e les tables automatiquement avec synchronize: true
Donc pas besoin de crÃ©er les tables manuellement !

Ce que tu peux retenir :
Ã‰tape	                Pourquoi ?
CrÃ©er la base	        Contenant principal
CrÃ©er le rÃ´le (user)	Pour sÃ©curiser les accÃ¨s
Donner les droits	    Pour que lâ€™utilisateur gÃ¨re sa base
CrÃ©er les tables	    Via NestJS/TypeORM ou en SQL


CrÃ©er les tables manuellement est parfait pour apprendre le SQL en profondeur, 
et comprendre ensuite comment NestJS/TypeORM reproduit Ã§a automatiquement tâ€™aidera Ã  faire le lien entre code et base de donnÃ©es.

Ã‰tapes Ã  suivre
On va suivre cet ordre :

1.ğŸ”§ CrÃ©er une base PostgreSQL
2.ğŸ‘¤ CrÃ©er un utilisateur PostgreSQL
3.ğŸ” Donner les droits Ã  lâ€™utilisateur
4.ğŸ—ƒï¸ CrÃ©er une table users Ã  la main en SQL
5.ğŸ”„ Te montrer comment NestJS et TypeORM feraient la mÃªme chose
6.ğŸ§ª Connecter NestJS Ã  ta base pour utiliser les donnÃ©es

1. CrÃ©er la base de donnÃ©es :
Dans ton terminal PostgreSQL (psql) :
CREATE DATABASE horsesinshape;

2. CrÃ©er un utilisateur :
CREATE USER horses_admin WITH PASSWORD 'admin123';

3. Donner les droits Ã  lâ€™utilisateur :
GRANT ALL PRIVILEGES ON DATABASE horsesinshape TO horses_admin;



-------------------------------------------------------------------------
Non merci, pas pour le moment. Cependant, pourquoi donnÃ©e des droits Ã  l'utilisateur ? 
Je ne vois pas encore le principe Ã  l'heure actuel. Nous lui donnons les droits sur notre bases de donnÃ©es ? 
Qui elle auras plusieurs tables ? Il est un simple user qui va avoir un simple compte ou alors c'est un user qui va tout
 controler et mÃªme les tables des autres users ?
-------------------------------------------------------------------------
TrÃ¨s bonne question, câ€™est important de bien comprendre la diffÃ©rence entre les utilisateurs PostgreSQL et les utilisateurs de ton application.

1. Lâ€™utilisateur PostgreSQL (horses_admin)
Câ€™est un compte utilisÃ© pour se connecter Ã  la base de donnÃ©es.
Cet utilisateur sert Ã  gÃ©rer la base depuis ton backend (par exemple NestJS).
Il peut avoir des droits limitÃ©s ou Ã©tendus selon ce que tu lui accordes.
Dans ton cas, on lui donne tous les droits sur la base horsesinshape pour que ton backend puisse crÃ©er, lire, mettre Ã  jour, supprimer (CRUD) des tables et donnÃ©es sans problÃ¨me.

2. Les utilisateurs de ton application (ex : un vrai utilisateur avec email, mot de passe)
Ce sont les personnes qui vont utiliser ton app mobile ou web.
Ils ne se connectent jamais directement Ã  la base.
Ils ont des comptes dans ta table users (et autres tables).
Leurs droits dâ€™accÃ¨s et permissions sont gÃ©rÃ©s dans lâ€™app (backend + frontend), via la logique mÃ©tier.

Pourquoi donner des droits Ã  horses_admin ?
Ton serveur backend (NestJS) utilise ce compte pour interagir avec la base (ex : via TypeORM).
Sans droits suffisants, ton backend ne pourra pas crÃ©er de tables, ni lire ou modifier des donnÃ©es.
Ce compte est donc un compte technique, pas un utilisateur final.

Ã€ quoi sert ce compte technique ?
Administrer la base : crÃ©er tables, faire des migrations, insÃ©rer des donnÃ©es, etc.
ExÃ©cuter les requÃªtes nÃ©cessaires au fonctionnement de ton app, avec un accÃ¨s contrÃ´lÃ©.
Tu peux limiter ses droits si besoin (ex : en production, Ã©viter les droits de crÃ©ation, etc.).

RÃ©sumÃ© visuel
RÃ´le	            AccÃ¨s direct base ?	        Usage	                            Droits habituels
Utilisateur         PostgreSQL	                Oui	Backend + administration base	Droits sur DB (crÃ©ation, modif)
Utilisateur         application	                Non	Utilisateur final de lâ€™app	    Droits limitÃ©s dans lâ€™app